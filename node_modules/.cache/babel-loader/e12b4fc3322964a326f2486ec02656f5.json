{"remainingRequest":"G:\\JDdemo\\jd\\node_modules\\babel-loader\\lib\\index.js!G:\\JDdemo\\jd\\src\\store\\index.js","dependencies":[{"path":"G:\\JDdemo\\jd\\src\\store\\index.js","mtime":1619118690335},{"path":"G:\\JDdemo\\jd\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\JDdemo\\jd\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IFZ1ZXguY3JlYXRlU3RvcmUoewogIHN0YXRlOiB7CiAgICBjYXJ0TGlzdDoge30KICB9LAogIG11dGF0aW9uczogewogICAgY2hhbmdlQ2FydEl0ZW1JbmZvOiBmdW5jdGlvbiBjaGFuZ2VDYXJ0SXRlbUluZm8oc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkLAogICAgICAgICAgcHJvZHVjdElkID0gcGF5bG9hZC5wcm9kdWN0SWQsCiAgICAgICAgICBwcm9kdWN0SW5mbyA9IHBheWxvYWQucHJvZHVjdEluZm87CiAgICAgIHZhciBzaG9wSW5mbyA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gfHwge307CiAgICAgIHZhciBwcm9kdWN0ID0gc2hvcEluZm9bcHJvZHVjdElkXTsKCiAgICAgIGlmICghcHJvZHVjdCkgewogICAgICAgIHByb2R1Y3RJbmZvLmNvdW50ID0gMDsKICAgICAgICBwcm9kdWN0ID0gcHJvZHVjdEluZm87CiAgICAgIH0KCiAgICAgIHByb2R1Y3QuY291bnQgPSBwcm9kdWN0LmNvdW50ICsgcGF5bG9hZC5udW07CgogICAgICBpZiAocGF5bG9hZC5udW0gPiAwKSB7CiAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChwcm9kdWN0LmNvdW50IDwgMCkgewogICAgICAgIHByb2R1Y3QuY291bnQgPSAwOwogICAgICB9CgogICAgICBzaG9wSW5mb1twcm9kdWN0SWRdID0gcHJvZHVjdDsKICAgICAgc3RhdGUuY2FydExpc3Rbc2hvcElkXSA9IHNob3BJbmZvOwogICAgfSwKICAgIGNoYW5nZUNhcnRJdGVtQ2hlY2tlZDogZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW1DaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHByb2R1Y3RJZCA9IHBheWxvYWQucHJvZHVjdElkOwogICAgICB2YXIgcHJvZHVjdCA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF1bcHJvZHVjdElkXTsKICAgICAgcHJvZHVjdC5jaGVjayA9ICFwcm9kdWN0LmNoZWNrOwogICAgfSwKICAgIGNsZWFuQ2FydFByb2R1Y3RzOiBmdW5jdGlvbiBjbGVhbkNhcnRQcm9kdWN0cyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQ7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gPSB7fTsKICAgIH0sCiAgICBzZXRDYXJ0SXRlbXNDaGVja2VkOiBmdW5jdGlvbiBzZXRDYXJ0SXRlbXNDaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZDsKICAgICAgdmFyIHByb2R1Y3RzID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXTsKCiAgICAgIGlmIChwcm9kdWN0cykgewogICAgICAgIGZvciAodmFyIGtleSBpbiBwcm9kdWN0cykgewogICAgICAgICAgdmFyIHByb2R1Y3QgPSBwcm9kdWN0c1trZXldOwogICAgICAgICAgcHJvZHVjdC5jaGVjayA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["G:/JDdemo/jd/src/store/index.js"],"names":["Vuex","createStore","state","cartList","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","product","count","num","check","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","products","key"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AAEA,eAAeA,IAAI,CAACC,WAAL,CAAiB;AAC9BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GADuB;AAI9BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,kBADS,8BACUH,KADV,EACiBI,OADjB,EAC0B;AAAA,UACzBC,MADyB,GACUD,OADV,CACzBC,MADyB;AAAA,UACjBC,SADiB,GACUF,OADV,CACjBE,SADiB;AAAA,UACNC,WADM,GACUH,OADV,CACNG,WADM;AAEjC,UAAIC,QAAQ,GAAGR,KAAK,CAACC,QAAN,CAAeI,MAAf,KAA0B,EAAzC;AACA,UAAII,OAAO,GAAGD,QAAQ,CAACF,SAAD,CAAtB;;AACA,UAAG,CAACG,OAAJ,EAAa;AACXF,QAAAA,WAAW,CAACG,KAAZ,GAAoB,CAApB;AACAD,QAAAA,OAAO,GAAGF,WAAV;AACD;;AACDE,MAAAA,OAAO,CAACC,KAAR,GAAgBD,OAAO,CAACC,KAAR,GAAgBN,OAAO,CAACO,GAAxC;;AACA,UAAGP,OAAO,CAACO,GAAR,GAAc,CAAjB,EAAoB;AAAEF,QAAAA,OAAO,CAACG,KAAR,GAAgB,IAAhB;AAAsB;;AAC5C,UAAGH,OAAO,CAACC,KAAR,GAAgB,CAAnB,EAAsB;AAAED,QAAAA,OAAO,CAACC,KAAR,GAAgB,CAAhB;AAAmB;;AAC3CF,MAAAA,QAAQ,CAACF,SAAD,CAAR,GAAsBG,OAAtB;AACAT,MAAAA,KAAK,CAACC,QAAN,CAAeI,MAAf,IAAyBG,QAAzB;AACD,KAdQ;AAeTK,IAAAA,qBAfS,iCAeab,KAfb,EAeoBI,OAfpB,EAe6B;AAAA,UAC5BC,MAD4B,GACND,OADM,CAC5BC,MAD4B;AAAA,UACpBC,SADoB,GACNF,OADM,CACpBE,SADoB;AAEpC,UAAMG,OAAO,GAAGT,KAAK,CAACC,QAAN,CAAeI,MAAf,EAAuBC,SAAvB,CAAhB;AACAG,MAAAA,OAAO,CAACG,KAAR,GAAgB,CAACH,OAAO,CAACG,KAAzB;AACD,KAnBQ;AAoBTE,IAAAA,iBApBS,6BAoBSd,KApBT,EAoBgBI,OApBhB,EAoByB;AAAA,UACxBC,MADwB,GACbD,OADa,CACxBC,MADwB;AAEhCL,MAAAA,KAAK,CAACC,QAAN,CAAeI,MAAf,IAAyB,EAAzB;AACD,KAvBQ;AAwBTU,IAAAA,mBAxBS,+BAwBWf,KAxBX,EAwBkBI,OAxBlB,EAwB2B;AAAA,UAC1BC,MAD0B,GACfD,OADe,CAC1BC,MAD0B;AAElC,UAAMW,QAAQ,GAAGhB,KAAK,CAACC,QAAN,CAAeI,MAAf,CAAjB;;AACA,UAAGW,QAAH,EAAa;AACX,aAAI,IAAIC,GAAR,IAAeD,QAAf,EAAyB;AACvB,cAAMP,OAAO,GAAGO,QAAQ,CAACC,GAAD,CAAxB;AACAR,UAAAA,OAAO,CAACG,KAAR,GAAgB,IAAhB;AACD;AACF;AACF;AAjCQ;AAJmB,CAAjB,CAAf","sourcesContent":["import Vuex from 'vuex'\n\nexport default Vuex.createStore({\n  state: {\n    cartList: {}\n  },\n  mutations: {\n    changeCartItemInfo(state, payload) {\n      const { shopId, productId, productInfo } = payload\n      let shopInfo = state.cartList[shopId] || {}\n      let product = shopInfo[productId]\n      if(!product) {\n        productInfo.count = 0\n        product = productInfo\n      }\n      product.count = product.count + payload.num\n      if(payload.num > 0) { product.check = true }\n      if(product.count < 0) { product.count = 0 }\n      shopInfo[productId] = product\n      state.cartList[shopId] = shopInfo\n    },\n    changeCartItemChecked(state, payload) {\n      const { shopId, productId } = payload\n      const product = state.cartList[shopId][productId]\n      product.check = !product.check\n    },\n    cleanCartProducts(state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId] = {}\n    },\n    setCartItemsChecked(state, payload) {\n      const { shopId } = payload\n      const products = state.cartList[shopId]\n      if(products) {\n        for(let key in products) {\n          const product = products[key]\n          product.check = true\n        }\n      }\n    }\n  }\n})\n"]}]}